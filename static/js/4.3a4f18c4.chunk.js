(this["webpackJsonpjrgcast-desafio-sharenergy-front-end"]=this["webpackJsonpjrgcast-desafio-sharenergy-front-end"]||[]).push([[4],{160:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(95),c=n.n(r),i=n(98),u=n(15),o=n(106),s=n(19),l=n(86),j=n(155),d=n(1);n(107).config();var b={methods:"GET,PUT,POST,DELETE",mode:"cors",headers:{"Access-Control-Allow-Origin":"*"}},m=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a,r,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:b,e.prev=1,e.next=4,fetch(t,n);case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",JSON.stringify(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),p=n(159),O=n(162),f=n(165),h=n(158),v=n(153),x=n(4),g=function(e){var t=e.functionsObj,n=e.selectValue,a=t.fillCDataObj,r=t.fillUsinaObj,c=t.handleSubmitClient;return Object(x.jsxs)(p.a,{component:"form",noValidate:!0,autoComplete:"off",sx:{display:"flex",flexDirection:"column",width:"50%",margin:"0 auto"},children:[Object(x.jsx)(O.a,{id:"input-name",label:"Nome do Novo Cliente",name:"nomeCliente",type:"text",variant:"filled",onChange:function(e){return a(e)},InputLabelProps:{shrink:!0},style:{marginBottom:"1em"}}),Object(x.jsxs)(f.a,{id:"label-select-usina-id",children:["Usina ID",Object(x.jsx)(h.a,{id:"select-usina-id",labelid:"label-select-usina-id",label:"Usina ID",name:"usinaId",variant:"outlined",onChange:function(e){return r(e)},defaultValue:1,value:n,style:{marginBottom:"1em"},children:Object(x.jsx)(v.a,{value:1,children:"1"})})]}),Object(x.jsx)(f.a,{id:"input-porcentagem",children:"Percentual de participa\xe7\xe3o"}),Object(x.jsx)(O.a,{labelId:"input-porcentagem",name:"percentualDeParticipacao",defaultValue:1,type:"number",InputProps:{inputProps:{inputMode:"numeric",pattern:"[0-9]*",min:"0",max:"20",step:"1",defaultValue:"20"}},step:1,min:0,max:20,onChange:function(e){return r(e)},style:{margin:"1em auto",width:"10%"}}),Object(x.jsx)(j.a,{id:"submit-client",variant:"contained",color:"primary",onClick:c,style:{width:"40%",margin:"0 auto"},children:" Adicionar Cliente"})]})};n(107).config();var C="https://desafio-sharenergy-back-end.herokuapp.com/clients",y=("".concat(C,"/byname"),"".concat(C,"/newclient")),k=("".concat(C,"/updatelient"),"".concat(C,"/deletelient"),"https://desafio-sharenergy-back-end.herokuapp.com/company"),w=("".concat(k,"/intervals"),"".concat(k,"/datareadabletime")),P=function(){var e=Object(d.useState)({nomeCliente:"",numeroCliente:99,usinas:[]}),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(d.useState)({usinaId:1,percentualDeParticipacao:10}),b=Object(s.a)(r,2),p=b[0],O=b[1],f=Object(d.useState)(""),h=Object(s.a)(f,2),v=h[0],C=h[1],k=Object(d.useState)(!1),w=Object(s.a)(k,2),P=w[0],S=w[1],I=Object(d.useState)(!1),E=Object(s.a)(I,2),V=E[0],D=E[1],T={method:"POST",mode:"cors",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({clientData:{nomeCliente:n.nomeCliente,numeroCliente:n.numeroCliente,usinas:[p]}})},A=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,m(y,T);case 3:t=e.sent,C(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){""!==v&&(S(!1),D(!0))}),[v]),Object(d.useEffect)((function(){console.log(P)}),[P]);var F={fillCDataObj:function(e){var t=e.target,r=t.name,c=t.value;a(Object(o.a)(Object(o.a)({},n),{},Object(u.a)({},r,c)))},fillUsinaObj:function(e){var t=e.target,n=t.name,a=t.value;O(Object(o.a)(Object(o.a)({},p),{},Object(u.a)({},n,Number(a)))),console.log(p)},handleSubmitClient:A};return Object(x.jsxs)("main",{children:[Object(x.jsx)("h1",{children:"Adicionar Cliente"}),Object(x.jsx)(g,{functionsObj:F,selectValue:p.usinaId}),Object(x.jsxs)("section",{children:[P?Object(x.jsx)(l.a,{style:{margin:"1em auto",width:"50%"}}):"",V?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{children:" Cliente adicionado com sucesso!"}),Object(x.jsx)(j.a,{variant:"contained",color:"primary",onClick:function(){C(""),D(!1)},style:{width:"40%",margin:"0 auto"},children:"Adicionar outro?"})]}):""]})]})},S=n(128),I=n(70),E=function(e){var t=e.currField,n=void 0===t?"Campo":t,a=e.currFValue,r=[{argument:n,value:void 0===a?0:a}];return Object(x.jsx)(I.a,{children:Object(x.jsxs)(S.c,{data:r,children:[Object(x.jsx)(S.a,{}),Object(x.jsx)(S.d,{}),Object(x.jsx)(S.b,{valueField:"value",argumentField:"argument",barWidth:.3})]})})},V=n(156),D=function(e){var t=e.currentTarget;return console.log(t.value,t.name)},T=function(e){var t=e.valuesObj,n=e.onClickFunc,a=void 0===n?D:n;console.log(t);return Object(x.jsx)(V.a,{color:"primary",variant:"outlined","aria-label":"outlined primary button group",children:Object.entries(t).map((function(e,t){var n=Object(s.a)(e,2),r=n[0],c=n[1];return console.log(r,c),Object(x.jsx)(j.a,{name:r,value:c,onClick:a,children:r},r)}))})},A=function(){var e=Object(d.useState)({}),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(d.useState)(!1),l=Object(s.a)(r,2),b=l[0],p=l[1],f=Object(d.useState)(""),h=Object(s.a)(f,2),v=h[0],g=h[1],C=Object(d.useState)(!1),y=Object(s.a)(C,2),k=y[0],P=y[1],S=Object(d.useState)({}),I=Object(s.a)(S,2),V=I[0],D=I[1],A=Object(d.useState)({field:"Campo",value:0}),F=Object(s.a)(A,2),B=F[0],N=F[1],M=Object(d.useState)({hour:5,minutes:20}),L=Object(s.a)(M,2),U=L[0],_=L[1],J={inputPropsHour:{inputMode:"numeric",pattern:"[0-9]*",min:"5",max:"17",defaultValue:"5"},inputPropsMinutes:{inputMode:"numeric",pattern:"[0-9]*",min:"00",max:"55",step:"5",defaultValue:"20"}};Object(d.useEffect)((function(){var e=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(w);case 2:(t=e.sent).hasOwnProperty("modifiedData")&&(a(t),p(!0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(d.useEffect)((function(){if(k){var e=v[0],t=e.tensao_V,n=e.corrente_A,a=e.potencia_kW,r=e.temperatura_C;D({"Tens\xe3o(V)":t,"Corrente(A)":n,"Pot\xeancia(kW)":a,"Temperatura(C)":r})}}),[k,v]);var H=function(e){var t=e.target,n=t.name,a=t.value;Number(a)<10&&(a="0".concat(a)),_(Object(o.a)(Object(o.a)({},U),{},Object(u.a)({},n,a))),console.log(U)},W=function(){var e=Object(i.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(U.hour,"h").concat(U.minutes,"min"),e.next=3,n.modifiedData.filter((function(e){return e.tempo_humano===t}));case 3:a=e.sent,g(a),P(!0),N({field:"Campo",value:0});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){var e=document.getElementById("input-minutes");U.hour<6?(!function(){var e=document.getElementById("input-hours"),t=document.getElementById("input-minutes");e.value<6&&t.value<20&&(t.value=20)}(),e.min=20,U.minutes<20&&(U.minutes=20)):e.min=0}));return Object(x.jsx)("main",{children:Object(x.jsxs)("section",{children:[Object(x.jsx)(O.a,{id:"input-hours",label:"Hora",name:"hour",type:"number",inputProps:J.inputPropsHour,onChange:function(e){return H(e)},InputLabelProps:{shrink:!0}}),Object(x.jsx)(O.a,{id:"input-minutes",label:"Minutos",name:"minutes",type:"number",inputProps:J.inputPropsMinutes,onChange:function(e){return H(e)},InputLabelProps:{shrink:!0}}),Object(x.jsx)(j.a,{id:"search-data",variant:"contained",disabled:!b,color:"primary",onClick:W,children:"Buscar dados"}),Object(x.jsx)("div",{style:{marginTop:"0.5em"},children:k?Object(x.jsx)(T,{valuesObj:V,onClickFunc:function(e){var t=e.currentTarget;N({field:t.name,value:Number(t.value)})}}):""}),Object(x.jsx)(E,{currField:B.field,currFValue:B.value})]})})},F=function(){return Object(x.jsx)(A,{})},B=function(){return Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:"Bem-vindo/a"})})},N=function(){return Object(x.jsx)("h1",{children:"Lucro"})},M=n(22);t.default=function(){return Object(x.jsxs)(a.c,{children:[Object(x.jsx)(a.a,{exact:!0,path:M.c,component:B}),Object(x.jsx)(a.a,{path:M.b,component:F}),Object(x.jsx)(a.a,{path:M.d,component:N}),Object(x.jsx)(a.a,{path:M.a,component:P})]})}}}]);
//# sourceMappingURL=4.3a4f18c4.chunk.js.map